# 🚀 快速开始指南 - 5分钟掌握系统

## ⚡ 30秒快速概览

**系统已启动** ✅ | **所有功能就绪** ✅ | **无需配置** ✅

```
你添加的项目 
    ↓ (每30秒检测)
发现新活动 
    ↓ (符合条件时)
添加到队列 
    ↓ (等待30分钟)
推送到 Telegram 
    ↓
完成！
```

---

## 🎯 3个需要知道的事

### 1️⃣ 推送延迟 30 分钟
检测到新项目后，不会立即推送，而是加入队列等待下一个推送时段。

### 2️⃣ 每个项目只推一次
同一个活动 (活动 ID) 即使被检测多次，也只会推送一次。

### 3️⃣ 队列自动保存
即使服务重启，队列也会恢复，不会丢失待推送的项目。

---

## 📊 验证系统（1分钟）

```bash
# 运行快速检查
python3 /Users/xingxiu/monitor_queue.py quick
```

预期看到所有项都是 ✅，如果都通过，系统就是正常的。

---

## 📝 查看队列（1分钟）

### 查看队列大小
```bash
ssh root@47.76.90.4 'wc -l /root/GalxeMonitor/data/push_queue.json'
```

### 查看队列内容（前50条）
```bash
ssh root@47.76.90.4 'head -50 /root/GalxeMonitor/data/push_queue.json'
```

### 实时监控队列
```bash
python3 /Users/xingxiu/monitor_queue.py
# 按 Ctrl+C 停止
```

---

## 🔍 查看日志（1分钟）

### 查看最新日志
```bash
ssh root@47.76.90.4 'tail -50 /root/GalxeMonitor/logs/app.log'
```

### 查看推送相关日志
```bash
ssh root@47.76.90.4 'tail -100 /root/GalxeMonitor/logs/app.log | grep -E "推送|队列|启动"'
```

### 实时查看日志
```bash
ssh root@47.76.90.4 'tail -f /root/GalxeMonitor/logs/app.log'
```

---

## 🔧 常见操作

### 重启系统
```bash
ssh root@47.76.90.4 '
  pkill -f "python3 src/app.py"
  sleep 2
  cd /root/GalxeMonitor
  nohup python3 src/app.py > logs/app.log 2>&1 &
'
```

### 清空队列
```bash
ssh root@47.76.90.4 'rm /root/GalxeMonitor/data/push_queue.json'
# 然后重启系统
```

### 改变推送间隔（改为5分钟）
```bash
ssh root@47.76.90.4 '
  sed -i "s/push_interval = 1800/push_interval = 300/" /root/GalxeMonitor/src/app.py
  pkill -f "python3 src/app.py"
  sleep 2
  cd /root/GalxeMonitor && nohup python3 src/app.py > logs/app.log 2>&1 &
'
```

---

## 📌 文件位置速查

```
服务器文件:
  /root/GalxeMonitor/src/app.py           主程序
  /root/GalxeMonitor/data/push_queue.json 队列数据
  /root/GalxeMonitor/logs/app.log         日志文件
  /root/GalxeMonitor/config_files/config.json 配置

本地文件:
  /Users/xingxiu/monitor_queue.py         监控工具
  /Users/xingxiu/📦_交付说明.md           完整说明
  /Users/xingxiu/快速参考卡.md            命令参考
```

---

## 🎓 3 个文档推荐

**想快速了解？** → 📦_交付说明.md (5分钟)

**想查命令？** → 快速参考卡.md (速查)

**想深入理解？** → 🚀_推送队列系统_实施完成.md (20分钟)

---

## 🆘 常见问题

| 问题 | 答案 |
|------|------|
| **系统在运行吗？** | 运行 `ps aux \| grep app.py` 查看 |
| **为什么不推送？** | 检查是否有新活动，等待30分钟 |
| **如何查看队列？** | 运行 `monitor_queue.py quick` |
| **TG 没收到消息？** | 查看日志中是否有错误 |
| **队列满了怎么办？** | 自动处理，继续等待推送 |

---

## ✨ 核心参数

- **推送间隔**: 30 分钟
- **监控频率**: 每 30 秒
- **监控项目**: 372 个
- **去重方式**: (space_id, activity_id) 组合

---

## 🎯 最重要的 3 个命令

```bash
# 1. 快速检查系统
python3 /Users/xingxiu/monitor_queue.py quick

# 2. 实时监控
python3 /Users/xingxiu/monitor_queue.py

# 3. 查看日志
ssh root@47.76.90.4 'tail -50 /root/GalxeMonitor/logs/app.log'
```

---

**记住**：系统已经在运行了，无需任何配置！ 🚀

---

*需要更多帮助？查看 📚_文档导航.md*
